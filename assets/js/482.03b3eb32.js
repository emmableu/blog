(window.webpackJsonp=window.webpackJsonp||[]).push([[482],{854:function(t,s,a){"use strict";a.r(s);var n=a(9),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ğŸ§ -pytorch-ä¸­çš„-f-one-hot-è¯¦è§£-é—®ç­”å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ -pytorch-ä¸­çš„-f-one-hot-è¯¦è§£-é—®ç­”å¼"}},[t._v("#")]),t._v(" ğŸ§  PyTorch ä¸­çš„ "),s("code",[t._v("F.one_hot()")]),t._v(" è¯¦è§£ï¼ˆé—®ç­”å¼ï¼‰")]),t._v(" "),s("h2",{attrs:{id:"ğŸ¯-q1-ä»€ä¹ˆæ˜¯-f-one-hot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-q1-ä»€ä¹ˆæ˜¯-f-one-hot"}},[t._v("#")]),t._v(" ğŸ¯ Q1: ä»€ä¹ˆæ˜¯ "),s("code",[t._v("F.one_hot()")]),t._v("ï¼Ÿ")]),t._v(" "),s("p",[s("strong",[t._v("ç­”ï¼š")]),s("br"),t._v(" "),s("code",[t._v("F.one_hot()")]),t._v(" æ˜¯ PyTorch ä¸­ç”¨äºå°† "),s("strong",[t._v("æ•´æ•°æ ‡ç­¾è½¬ä¸ºç‹¬çƒ­ç¼–ç ï¼ˆone-hot vectorsï¼‰")]),t._v(" çš„å‡½æ•°ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ§ª-q2-ç¤ºä¾‹-æœ€åŸºæœ¬çš„ä¸€ç»´è¾“å…¥æ˜¯æ€æ ·çš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ª-q2-ç¤ºä¾‹-æœ€åŸºæœ¬çš„ä¸€ç»´è¾“å…¥æ˜¯æ€æ ·çš„"}},[t._v("#")]),t._v(" ğŸ§ª Q2: ç¤ºä¾‹ï¼šæœ€åŸºæœ¬çš„ä¸€ç»´è¾“å…¥æ˜¯æ€æ ·çš„ï¼Ÿ")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torch\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("functional "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" F\n\nX "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\none_hot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("one_hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num_classes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("one_hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[s("strong",[t._v("è¾“å‡ºï¼š")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("tensor([[1, 0, 0, 0],\n        [0, 1, 0, 0],\n        [0, 0, 1, 0]])\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("strong",[t._v("è§£é‡Šï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("è¾“å…¥æ˜¯ "),s("code",[t._v("[0, 1, 2]")]),t._v("ï¼Œè¡¨ç¤ºæœ‰ä¸‰ä¸ªç±»åˆ«ç¼–å·ã€‚")]),t._v(" "),s("li",[s("code",[t._v("num_classes=4")]),t._v(" æ˜ç¡®å‘Šè¯‰å‡½æ•°æˆ‘ä»¬æœ‰ 4 ç±»ï¼ˆ0~3ï¼‰ï¼Œæ‰€ä»¥æ¯ä¸ªè¾“å‡ºå‘é‡é•¿åº¦æ˜¯ 4ã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ§ª-q3-å¦‚æœè¾“å…¥æ˜¯-2d-çš„å‘¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ª-q3-å¦‚æœè¾“å…¥æ˜¯-2d-çš„å‘¢"}},[t._v("#")]),t._v(" ğŸ§ª Q3: å¦‚æœè¾“å…¥æ˜¯ 2D çš„å‘¢ï¼Ÿ")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("X "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\none_hot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("one_hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num_classes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("one_hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("strong",[t._v("è¾“å‡ºï¼š")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("tensor([[[0, 1, 0, 0],\n         [0, 0, 1, 0]],\n\n        [[1, 0, 0, 0],\n         [0, 0, 0, 1]]])\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("strong",[t._v("è§£é‡Šï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("åŸè¾“å…¥ shape æ˜¯ "),s("code",[t._v("(2, 2)")]),t._v("ï¼Œæ¯ä¸ªæ•°å­—ä»£è¡¨ä¸€ä¸ªç±»åˆ«")]),t._v(" "),s("li",[t._v("ç»“æœ shape æ˜¯ "),s("code",[t._v("(2, 2, 4)")]),t._v("ï¼Œæ¯ä¸ªç±»åˆ«è½¬æˆäº†ä¸€ä¸ª one-hot å‘é‡")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ§ª-q4-ä¸ºä»€ä¹ˆè¦ç”¨-f-one-hot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ª-q4-ä¸ºä»€ä¹ˆè¦ç”¨-f-one-hot"}},[t._v("#")]),t._v(" ğŸ§ª Q4: ä¸ºä»€ä¹ˆè¦ç”¨ "),s("code",[t._v("F.one_hot()")]),t._v("ï¼Ÿ")]),t._v(" "),s("p",[s("strong",[t._v("ç­”ï¼š")]),s("br"),t._v("\nå› ä¸ºå¾ˆå¤šæ¨¡å‹ï¼ˆæ¯”å¦‚ç¥ç»ç½‘ç»œï¼‰ä¸èƒ½ç›´æ¥å¤„ç†æ•´æ•°æ ‡ç­¾ï¼Œè€Œéœ€è¦å°†å…¶è½¬æ¢æˆå‘é‡å½¢å¼ï¼Œone-hot æ˜¯æœ€å¸¸è§çš„æ–¹å¼ä¹‹ä¸€ã€‚å¸¸ç”¨äºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ–‡æœ¬ä¸­çš„è¯è¡¨ç¤º")]),t._v(" "),s("li",[t._v("åˆ†ç±»æ¨¡å‹çš„è¾“å…¥/æ ‡ç­¾")]),t._v(" "),s("li",[t._v("æ„é€  embedding è¾“å…¥ä¹‹å‰çš„é¢„å¤„ç†")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ§ª-q5-ç”¨åœ¨-bigram-çš„ä¾‹å­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ª-q5-ç”¨åœ¨-bigram-çš„ä¾‹å­"}},[t._v("#")]),t._v(" ğŸ§ª Q5: ç”¨åœ¨ bigram çš„ä¾‹å­ï¼Ÿ")]),t._v(" "),s("p",[t._v("å‡è®¾æˆ‘ä»¬æŠŠå­—ç¬¦å¯¹ ("),s("code",[t._v(".")]),t._v(", "),s("code",[t._v("a")]),t._v(") æ˜ å°„æˆä¸€ä¸ªæ•´æ•°ç´¢å¼•ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("X "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# å‡è®¾ 0=".a", 1="ab", 2="bc"')]),t._v("\none_hot "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("one_hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("X"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" num_classes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("one_hot"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shape"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("strong",[t._v("è¾“å‡ºï¼š")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("torch.Size([3, 729])\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ§ -æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ -æ€»ç»“"}},[t._v("#")]),t._v(" ğŸ§  æ€»ç»“")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("æ“ä½œ")]),t._v(" "),s("th",[t._v("è¯´æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("F.one_hot(X, n)")])]),t._v(" "),s("td",[t._v("å°†æ•´å‹å¼ é‡ "),s("code",[t._v("X")]),t._v(" è½¬æˆ one-hot å‘é‡ï¼Œç»´åº¦é•¿åº¦ä¸º "),s("code",[t._v("n")])])]),t._v(" "),s("tr",[s("td",[t._v("æ”¯æŒå¤šç»´è¾“å…¥")]),t._v(" "),s("td",[t._v("è‡ªåŠ¨æ‰©å±•ä¸º shape + [num_classes]")])]),t._v(" "),s("tr",[s("td",[t._v("å¸¸ç”¨äºè¾“å…¥é¢„å¤„ç†")]),t._v(" "),s("td",[t._v("å¦‚å­—ç¬¦å¯¹ã€è¯å¯¹ã€åˆ†ç±»è¾“å…¥ç­‰")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);