(window.webpackJsonp=window.webpackJsonp||[]).push([[481],{853:function(t,s,a){"use strict";a.r(s);var n=a(9),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"ğŸ¯-ä½¿ç”¨-pytorch-ä»æ¦‚ç‡åˆ†å¸ƒä¸­é‡‡æ ·å¤šä¸ªå…ƒç´ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-ä½¿ç”¨-pytorch-ä»æ¦‚ç‡åˆ†å¸ƒä¸­é‡‡æ ·å¤šä¸ªå…ƒç´ "}},[t._v("#")]),t._v(" ğŸ¯ ä½¿ç”¨ PyTorch ä»æ¦‚ç‡åˆ†å¸ƒä¸­é‡‡æ ·å¤šä¸ªå…ƒç´ ")]),t._v(" "),s("h2",{attrs:{id:"ğŸ§ª-é¢˜ç›®æè¿°-æ ¹æ®æ¦‚ç‡åˆ†å¸ƒé‡‡æ ·å¤šæ¬¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ª-é¢˜ç›®æè¿°-æ ¹æ®æ¦‚ç‡åˆ†å¸ƒé‡‡æ ·å¤šæ¬¡"}},[t._v("#")]),t._v(" ğŸ§ª é¢˜ç›®æè¿°ï¼šæ ¹æ®æ¦‚ç‡åˆ†å¸ƒé‡‡æ ·å¤šæ¬¡")]),t._v(" "),s("p",[t._v("å®ç°ä¸€ä¸ªå‡½æ•° "),s("code",[t._v("sample_n_times(probs: List[float], n: int) -> List[int]")]),t._v("ï¼Œæ ¹æ®ç»™å®šçš„æ¦‚ç‡å‘é‡ "),s("code",[t._v("probs")]),t._v(" ä»ç´¢å¼• "),s("code",[t._v("[0, 1, ..., len(probs)-1]")]),t._v(" ä¸­é‡‡æ · "),s("code",[t._v("n")]),t._v(" æ¬¡ï¼Œå¹¶è¿”å›ç»“æœåˆ—è¡¨ã€‚")]),t._v(" "),s("p",[t._v("ä½ å¯ä»¥å‡è®¾ "),s("code",[t._v("probs")]),t._v(" æ˜¯ä¸€ä¸ªå½’ä¸€åŒ–çš„æ¦‚ç‡åˆ†å¸ƒï¼ˆæ‰€æœ‰å…ƒç´ ç›¸åŠ çº¦ç­‰äº 1ï¼‰ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ“¥-è¾“å…¥ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¥-è¾“å…¥ç¤ºä¾‹"}},[t._v("#")]),t._v(" ğŸ“¥ è¾“å…¥ç¤ºä¾‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("probs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\nn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ“¤-è¾“å‡ºç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¤-è¾“å‡ºç¤ºä¾‹"}},[t._v("#")]),t._v(" ğŸ“¤ è¾“å‡ºç¤ºä¾‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("æ³¨æ„ï¼šæ¯æ¬¡è¿è¡Œç»“æœä¸åŒï¼Œä½†æ•´ä½“é¢‘ç‡åº”æ¥è¿‘ "),s("code",[t._v("[0.2, 0.5, 0.3]")]),t._v(" çš„æ¦‚ç‡åˆ†å¸ƒã€‚")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ§¾-å‡½æ•°ç­¾å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§¾-å‡½æ•°ç­¾å"}},[t._v("#")]),t._v(" ğŸ§¾ å‡½æ•°ç­¾åï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" typing "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" List\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sample_n_times")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" List"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" List"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"âœ…-è§£æ³•ä»£ç -æ¨èæ–¹å¼-ä½¿ç”¨-torch-distributions-categorical"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-è§£æ³•ä»£ç -æ¨èæ–¹å¼-ä½¿ç”¨-torch-distributions-categorical"}},[t._v("#")]),t._v(" âœ… è§£æ³•ä»£ç ï¼ˆæ¨èæ–¹å¼ï¼šä½¿ç”¨ "),s("code",[t._v("torch.distributions.Categorical")]),t._v("ï¼‰")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torch\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" typing "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" List\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sample_n_times")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" List"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" List"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å°†æ¦‚ç‡åˆ—è¡¨è½¬ä¸º tensorï¼Œç¡®ä¿ float ç±»å‹")]),t._v("\n    probs_tensor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºç¦»æ•£åˆ†å¸ƒå¯¹è±¡")]),t._v("\n    dist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distributions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Categorical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("probs_tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä»åˆ†å¸ƒä¸­é‡‡æ · n æ¬¡ï¼Œè¿”å›å½¢çŠ¶ä¸º (n,)")]),t._v("\n    samples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è½¬æ¢ä¸º Python åŸç”Ÿåˆ—è¡¨è¿”å›")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tolist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ”-æ–¹æ³•è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-æ–¹æ³•è¯´æ˜"}},[t._v("#")]),t._v(" ğŸ” æ–¹æ³•è¯´æ˜ï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("æ­¥éª¤")]),t._v(" "),s("th",[t._v("è¯´æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("torch.tensor(probs)")])]),t._v(" "),s("td",[t._v("è½¬ä¸º float ç±»å‹çš„å¼ é‡")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("Categorical(probs=...)")])]),t._v(" "),s("td",[t._v("åˆ›å»ºå¤šé¡¹åˆ†å¸ƒï¼ˆæ ¹æ®æ¦‚ç‡ï¼‰")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v(".sample((n,))")])]),t._v(" "),s("td",[t._v("é‡‡æ · "),s("code",[t._v("n")]),t._v(" æ¬¡ï¼Œè¿”å› shape=(n,) çš„å¼ é‡")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v(".tolist()")])]),t._v(" "),s("td",[t._v("è½¬ä¸º Python åŸç”Ÿåˆ—è¡¨è¿”å›")])])])]),t._v(" "),s("p",[t._v("æ³¨æ„ï¼š\n"),s("code",[t._v("probs")]),t._v(" ä¸éœ€è¦åŠ èµ·æ¥æ˜¯1ï¼Œtorch ä¼šæŠŠ æ¯”å¦‚ 0.3, 0.3 å˜æˆ0.5ï¼Œ 0.5")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("dist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distributions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Categorical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsamples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("å’Œä¸‹é¢è¿™ä¸ªæ˜¯ä¸€æ ·çš„")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("dist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distributions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Categorical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsamples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("hr"),t._v(" "),s("h1",{attrs:{id:"ğŸ¯-ä½¿ç”¨-torch-distributions-categorical-æ‰¹é‡å¤„ç†-2d-æ¦‚ç‡å¼ é‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-ä½¿ç”¨-torch-distributions-categorical-æ‰¹é‡å¤„ç†-2d-æ¦‚ç‡å¼ é‡"}},[t._v("#")]),t._v(" ğŸ¯ ä½¿ç”¨ "),s("code",[t._v("torch.distributions.Categorical")]),t._v(" æ‰¹é‡å¤„ç† 2D æ¦‚ç‡å¼ é‡")]),t._v(" "),s("h2",{attrs:{id:"âœ…-æ¦‚è¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-æ¦‚è¦"}},[t._v("#")]),t._v(" âœ… æ¦‚è¦")]),t._v(" "),s("p",[t._v("PyTorch çš„ "),s("code",[t._v("Categorical")]),t._v(" åˆ†å¸ƒæ”¯æŒ "),s("strong",[t._v("äºŒç»´å¼ é‡ä½œä¸ºè¾“å…¥")]),t._v("ï¼Œæ¯ä¸€è¡Œè¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„æ¦‚ç‡åˆ†å¸ƒã€‚è¿™å¯¹äº"),s("strong",[t._v("æ‰¹é‡å¤„ç†å¤šä¸ªæ ·æœ¬")]),t._v("æˆ–"),s("strong",[t._v("åºåˆ—æ¨¡å‹ä¸­çš„æ¯ä¸ªæ—¶é—´æ­¥")]),t._v("éå¸¸æœ‰ç”¨ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ“¥-ç¤ºä¾‹-1-å¯¹å¤šä¸ªåˆ†å¸ƒå„é‡‡æ ·ä¸€æ¬¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¥-ç¤ºä¾‹-1-å¯¹å¤šä¸ªåˆ†å¸ƒå„é‡‡æ ·ä¸€æ¬¡"}},[t._v("#")]),t._v(" ğŸ“¥ ç¤ºä¾‹ 1ï¼šå¯¹å¤šä¸ªåˆ†å¸ƒå„é‡‡æ ·ä¸€æ¬¡")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torch\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªä¸åŒçš„æ¦‚ç‡åˆ†å¸ƒ")]),t._v("\nprobs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dtype"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åˆ›å»ºåˆ†ç±»åˆ†å¸ƒå¯¹è±¡")]),t._v("\ndist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distributions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Categorical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¯è¡Œé‡‡æ · 1 æ¬¡ï¼Œç»“æœ shape: (3,)")]),t._v("\nsamples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¾“å‡ºç¤ºä¾‹: tensor([1, 1, 0])")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ“¥-ç¤ºä¾‹-2-æ¯ä¸ªåˆ†å¸ƒé‡‡æ ·å¤šæ¬¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¥-ç¤ºä¾‹-2-æ¯ä¸ªåˆ†å¸ƒé‡‡æ ·å¤šæ¬¡"}},[t._v("#")]),t._v(" ğŸ“¥ ç¤ºä¾‹ 2ï¼šæ¯ä¸ªåˆ†å¸ƒé‡‡æ ·å¤šæ¬¡")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä»æ¯è¡Œé‡‡æ · 5 æ¬¡ï¼Œç»“æœ shape: (5, 3)")]),t._v("\nsamples "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("samples"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("è¾“å‡ºæ ¼å¼å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# tensor([[1, 0, 1],  \n#         [1, 0, 0],  \n#         [1, 0, 0],  \n#         [1, 0, 1],  \n#         [1, 0, 1]])\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ“Œ-ä½¿ç”¨è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œ-ä½¿ç”¨è¯´æ˜"}},[t._v("#")]),t._v(" ğŸ“Œ ä½¿ç”¨è¯´æ˜")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("åŠŸèƒ½")]),t._v(" "),s("th",[t._v("è¯´æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("2D è¾“å…¥")]),t._v(" "),s("td",[t._v("æ”¯æŒï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªç‹¬ç«‹åˆ†å¸ƒ")])]),t._v(" "),s("tr",[s("td",[t._v("æ¯è¡Œé‡‡æ ·ä¸€æ¬¡")]),t._v(" "),s("td",[t._v("ä½¿ç”¨ "),s("code",[t._v("dist.sample()")])])]),t._v(" "),s("tr",[s("td",[t._v("æ¯è¡Œé‡‡æ ·å¤šæ¬¡")]),t._v(" "),s("td",[t._v("ä½¿ç”¨ "),s("code",[t._v("dist.sample((n,))")]),t._v("ï¼Œè¾“å‡º shape ä¸º "),s("code",[t._v("(n, batch_size)")])])]),t._v(" "),s("tr",[s("td",[t._v("æ”¯æŒ logits")]),t._v(" "),s("td",[t._v("å¯æ›¿ä»£ "),s("code",[t._v("probs=")]),t._v(" ä½¿ç”¨ "),s("code",[t._v("logits=")]),t._v(" å‚æ•°")])]),t._v(" "),s("tr",[s("td",[t._v("è¦æ±‚éè´Ÿä¸”æ€»å’Œ > 0")]),t._v(" "),s("td",[t._v("æ¯ä¸€è¡Œéƒ½å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ­£æ•°ï¼Œä¸èƒ½æ˜¯å…¨ 0")])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"âš ï¸-æ³¨æ„äº‹é¡¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âš ï¸-æ³¨æ„äº‹é¡¹"}},[t._v("#")]),t._v(" âš ï¸ æ³¨æ„äº‹é¡¹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("output shape æ˜¯ "),s("code",[t._v("[5, 3]")]),t._v("ï¼Œ ä¸æ˜¯ "),s("code",[t._v("[3, 5]")])]),t._v(" "),s("li",[t._v("å¦‚æœ "),s("code",[t._v("probs")]),t._v(" å«å…¨ 0ï¼Œä¼šæŠ›å‡ºé”™è¯¯")]),t._v(" "),s("li",[t._v("å¯ç”¨ "),s("code",[t._v("logits=")]),t._v(" æ›¿ä»£ "),s("code",[t._v("probs=")]),t._v(" è¿›è¡Œ softmax æ“ä½œ")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"âœ…-ç¤ºä¾‹è°ƒç”¨ä¸è¾“å‡º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-ç¤ºä¾‹è°ƒç”¨ä¸è¾“å‡º"}},[t._v("#")]),t._v(" âœ… ç¤ºä¾‹è°ƒç”¨ä¸è¾“å‡ºï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torch  \nprob_tensor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \ndist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distributions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Categorical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prob_tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \nout "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n  \ncount_0 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \ncount_1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count_0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" count_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 296 704")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("hr"),t._v(" "),s("h1",{attrs:{id:"ğŸ”§-æ‹“å±•åŠŸèƒ½-æ·»åŠ å¯¹-logits-çš„æ”¯æŒ-use-logits-true"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”§-æ‹“å±•åŠŸèƒ½-æ·»åŠ å¯¹-logits-çš„æ”¯æŒ-use-logits-true"}},[t._v("#")]),t._v(" ğŸ”§ æ‹“å±•åŠŸèƒ½ï¼šæ·»åŠ å¯¹ "),s("code",[t._v("logits")]),t._v(" çš„æ”¯æŒï¼ˆuse_logits=Trueï¼‰")]),t._v(" "),s("p",[t._v("åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸ç›´æ¥å¤„ç†â€œæ¦‚ç‡åˆ†å¸ƒâ€ï¼ˆprobsï¼‰ï¼Œè€Œæ˜¯å¤„ç†æœªç» softmax çš„åŸå§‹ logitsï¼ˆå¯¹æ•°å‡ ç‡ï¼‰ã€‚ä¸ºäº†å¢å¼ºé‡‡æ ·å‡½æ•°çš„çµæ´»æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ª "),s("code",[t._v("use_logits")]),t._v(" å‚æ•°ï¼Œè®©ç”¨æˆ·é€‰æ‹©è¾“å…¥æ˜¯æ¦‚ç‡è¿˜æ˜¯ logitsã€‚")]),t._v(" "),s("h2",{attrs:{id:"âœ…-ä¿®æ”¹åçš„å®ç°ä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-ä¿®æ”¹åçš„å®ç°ä»£ç "}},[t._v("#")]),t._v(" âœ… ä¿®æ”¹åçš„å®ç°ä»£ç ")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" torch\n\nlogits_tensor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("distributions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Categorical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("logits"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("logits_tensor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("probs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nout "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sample"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ncount_0 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ncount_1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("out "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("sum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count_0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" count_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# output:")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# tensor([4.2484e-18, 1.0000e+00])")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 0 1000")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ”-æ–¹æ³•è¯´æ˜-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-æ–¹æ³•è¯´æ˜-2"}},[t._v("#")]),t._v(" ğŸ” æ–¹æ³•è¯´æ˜")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å‚æ•°")]),t._v(" "),s("th",[t._v("è¯´æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("logits=")])]),t._v(" "),s("td",[t._v("PyTorch ä¼šè‡ªåŠ¨å¯¹å…¶æ‰§è¡Œ softmax è¿ç®—")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("probs=")])]),t._v(" "),s("td",[t._v("å‡è®¾è¾“å…¥å·²å½’ä¸€åŒ–ä¸ºæ¦‚ç‡å‘é‡")])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"âš ï¸-æ³¨æ„äº‹é¡¹-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âš ï¸-æ³¨æ„äº‹é¡¹-2"}},[t._v("#")]),t._v(" âš ï¸ æ³¨æ„äº‹é¡¹")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("logits å¯ä»¥æ˜¯ä»»æ„å®æ•°")]),t._v("ï¼Œæ— éœ€å½’ä¸€åŒ–ï¼Œæ¨¡å‹è¾“å‡ºé€šå¸¸æ˜¯ logits")]),t._v(" "),s("li",[t._v("ä¸è¦åŒæ—¶ä¼ å…¥ "),s("code",[t._v("probs=")]),t._v(" å’Œ "),s("code",[t._v("logits=")]),t._v("ï¼Œåªèƒ½ç”¨å…¶ä¸€")]),t._v(" "),s("li",[t._v("logits æ›´é€‚åˆæ·±åº¦å­¦ä¹ æ¨¡å‹ pipelineï¼ˆå¦‚ transformerã€è¯­è¨€å»ºæ¨¡ï¼‰")])])])}),[],!1,null,null,null);s.default=r.exports}}]);