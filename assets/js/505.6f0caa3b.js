(window.webpackJsonp=window.webpackJsonp||[]).push([[505],{877:function(t,a,r){"use strict";r.r(a);var e=r(9),v=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"æ·±å…¥ç†è§£javascriptå¼‚æ­¥åŸç†-source"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ·±å…¥ç†è§£javascriptå¼‚æ­¥åŸç†-source"}},[t._v("#")]),t._v(" æ·±å…¥ç†è§£Javascriptå¼‚æ­¥åŸç† "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("source"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavascriptæ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œé‚£æ—¢ç„¶æ˜¯å•çº¿ç¨‹è¿è¡Œåˆæ˜¯å¦‚ä½•å®ç°å¼‚æ­¥éé˜»å¡æ“ä½œçš„å‘¢ï¼Ÿä¸‹é¢å¸¦å¤§å®¶ä»JavascriptåŸç†å±‚é¢ï¼Œä¸€æ­¥æ­¥å‰–æè¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),a("h2",{attrs:{id:"javascript-process-thread-å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript-process-thread-å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹"}},[t._v("#")]),t._v(" Javascript - Process, Threadï¼Œ  å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç»å¸¸è¯´JS æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªè¿›ç¨‹é‡Œåªæœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼Œé‚£åˆ°åº•ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ")]),t._v(" "),a("p",[t._v("å®˜æ–¹çš„è¯´æ³•æ˜¯ï¼š"),a("strong",[t._v("è¿›ç¨‹æ˜¯ CPUèµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼›çº¿ç¨‹æ˜¯ CPUè°ƒåº¦çš„æœ€å°å•ä½")]),t._v("ã€‚è¿™ä¸¤å¥è¯å¹¶ä¸å¥½ç†è§£ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹å¼ å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop11.png",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("ul",[a("li",[t._v("è¿›ç¨‹å¥½æ¯”å›¾ä¸­çš„"),a("strong",[t._v("å·¥å‚")]),t._v("ï¼Œæœ‰å•ç‹¬çš„ä¸“å±è‡ªå·±çš„å·¥å‚èµ„æºã€‚")]),t._v(" "),a("li",[t._v("çº¿ç¨‹å¥½æ¯”å›¾ä¸­çš„"),a("strong",[t._v("å·¥äºº")]),t._v("ï¼Œå¤šä¸ªå·¥äººåœ¨ä¸€ä¸ªå·¥å‚ä¸­åä½œå·¥ä½œï¼Œå·¥å‚ä¸å·¥äººæ˜¯ 1:nçš„å…³ç³»ã€‚ä¹Ÿå°±æ˜¯è¯´"),a("strong",[t._v("ä¸€ä¸ªè¿›ç¨‹ç”±ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç»„æˆï¼Œçº¿ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­ä»£ç çš„ä¸åŒæ‰§è¡Œè·¯çº¿")]),t._v("ï¼›")]),t._v(" "),a("li",[a("strong",[t._v("å·¥å‚çš„ç©ºé—´æ˜¯å·¥äººä»¬å…±äº«çš„")]),t._v("ï¼Œè¿™è±¡å¾"),a("strong",[t._v("ä¸€ä¸ªè¿›ç¨‹çš„å†…å­˜ç©ºé—´æ˜¯å…±äº«çš„ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å¯ç”¨è¿™äº›å…±äº«å†…å­˜")]),t._v("ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("å¤šä¸ªå·¥å‚ä¹‹é—´ç‹¬ç«‹å­˜åœ¨")]),t._v("ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹")])]),t._v(" "),a("ul",[a("li",[t._v("å¤šè¿›ç¨‹ï¼šåœ¨åŒä¸€ä¸ªæ—¶é—´é‡Œï¼ŒåŒä¸€ä¸ªè®¡ç®—æœºç³»ç»Ÿä¸­å¦‚æœå…è®¸ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ã€‚å¤šè¿›ç¨‹å¸¦æ¥çš„å¥½å¤„æ˜¯æ˜æ˜¾çš„ï¼Œæ¯”å¦‚ä½ å¯ä»¥å¬æ­Œçš„åŒæ—¶ï¼Œæ‰“å¼€ç¼–è¾‘å™¨æ•²ä»£ç ï¼Œç¼–è¾‘å™¨å’Œå¬æ­Œè½¯ä»¶çš„è¿›ç¨‹ä¹‹é—´ä¸æ¯«ä¸ä¼šç›¸äº’å¹²æ‰°ã€‚")]),t._v(" "),a("li",[t._v("å¤šçº¿ç¨‹ï¼šç¨‹åºä¸­åŒ…å«å¤šä¸ªæ‰§è¡Œæµï¼Œå³åœ¨ä¸€ä¸ªç¨‹åºä¸­å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªä¸åŒçš„çº¿ç¨‹æ¥æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´å…è®¸å•ä¸ªç¨‹åºåˆ›å»ºå¤šä¸ªå¹¶è¡Œæ‰§è¡Œçš„çº¿ç¨‹æ¥å®Œæˆå„è‡ªçš„ä»»åŠ¡ã€‚")])]),t._v(" "),a("p",[t._v("ä»¥Chromeæµè§ˆå™¨ä¸­ä¸ºä¾‹ï¼Œå½“ä½ æ‰“å¼€ä¸€ä¸ª Tab é¡µæ—¶ï¼Œå…¶å®å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼ˆä¸‹æ–‡ä¼šè¯¦ç»†ä»‹ç»ï¼‰ï¼Œæ¯”å¦‚æ¸²æŸ“çº¿ç¨‹ã€JS å¼•æ“çº¿ç¨‹ã€HTTP è¯·æ±‚çº¿ç¨‹ç­‰ç­‰ã€‚å½“ä½ å‘èµ·ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå…¶å®å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹ï¼Œå½“è¯·æ±‚ç»“æŸåï¼Œè¯¥çº¿ç¨‹å¯èƒ½å°±ä¼šè¢«é”€æ¯ã€‚")]),t._v(" "),a("h3",{attrs:{id:"æµè§ˆå™¨å†…æ ¸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨å†…æ ¸"}},[t._v("#")]),t._v(" æµè§ˆå™¨å†…æ ¸")]),t._v(" "),a("p",[t._v("ç®€å•æ¥è¯´æµè§ˆå™¨å†…æ ¸æ˜¯é€šè¿‡å–å¾—é¡µé¢å†…å®¹ã€æ•´ç†ä¿¡æ¯ï¼ˆåº”ç”¨CSSï¼‰ã€è®¡ç®—å’Œç»„åˆæœ€ç»ˆè¾“å‡ºå¯è§†åŒ–çš„å›¾åƒç»“æœï¼Œé€šå¸¸ä¹Ÿè¢«ç§°ä¸ºæ¸²æŸ“å¼•æ“ã€‚")]),t._v(" "),a("p",[t._v("æµè§ˆå™¨å†…æ ¸æ˜¯å¤šçº¿ç¨‹ï¼Œåœ¨å†…æ ¸æ§åˆ¶ä¸‹å„çº¿ç¨‹ç›¸äº’é…åˆä»¥ä¿æŒåŒæ­¥ï¼Œä¸€ä¸ªæµè§ˆå™¨é€šå¸¸ç”±ä»¥ä¸‹å¸¸é©»çº¿ç¨‹ç»„æˆï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("GUI æ¸²æŸ“çº¿ç¨‹")])]),t._v(" "),a("li",[a("p",[t._v("JavaScriptå¼•æ“çº¿ç¨‹")])]),t._v(" "),a("li",[a("p",[t._v("å®šæ—¶è§¦å‘å™¨çº¿ç¨‹, e.g., setTimeout")])]),t._v(" "),a("li",[a("p",[t._v("äº‹ä»¶è§¦å‘çº¿ç¨‹")])]),t._v(" "),a("li",[a("p",[t._v("å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹")])])]),t._v(" "),a("h4",{attrs:{id:"guiæ¸²æŸ“çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#guiæ¸²æŸ“çº¿ç¨‹"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#GUI%E6%B8%B2%E6%9F%93%E7%BA%BF%E7%A8%8B",title:"GUIæ¸²æŸ“çº¿ç¨‹",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("GUIæ¸²æŸ“çº¿ç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("ä¸»è¦è´Ÿè´£é¡µé¢çš„æ¸²æŸ“ï¼Œè§£æHTMLã€CSSï¼Œæ„å»ºDOMæ ‘ï¼Œå¸ƒå±€å’Œç»˜åˆ¶ç­‰ã€‚")]),t._v(" "),a("li",[t._v("å½“ç•Œé¢éœ€è¦é‡ç»˜æˆ–è€…ç”±äºæŸç§æ“ä½œå¼•å‘å›æµæ—¶ï¼Œå°†æ‰§è¡Œè¯¥çº¿ç¨‹ã€‚")]),t._v(" "),a("li",[t._v("è¯¥çº¿ç¨‹ä¸JSå¼•æ“çº¿ç¨‹äº’æ–¥ï¼Œå½“æ‰§è¡ŒJSå¼•æ“çº¿ç¨‹æ—¶ï¼ŒGUIæ¸²æŸ“ä¼šè¢«æŒ‚èµ·ï¼Œå½“ä»»åŠ¡é˜Ÿåˆ—ç©ºé—²æ—¶ï¼Œä¸»çº¿ç¨‹æ‰ä¼šå»æ‰§è¡ŒGUIæ¸²æŸ“ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"jså¼•æ“çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jså¼•æ“çº¿ç¨‹"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#JS%E5%BC%95%E6%93%8E%E7%BA%BF%E7%A8%8B",title:"JSå¼•æ“çº¿ç¨‹",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("JSå¼•æ“çº¿ç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("è¯¥çº¿ç¨‹å½“ç„¶æ˜¯ä¸»è¦è´Ÿè´£å¤„ç† JavaScriptè„šæœ¬ï¼Œæ‰§è¡Œä»£ç ã€‚")]),t._v(" "),a("li",[t._v("ä¹Ÿæ˜¯ä¸»è¦è´Ÿè´£æ‰§è¡Œå‡†å¤‡å¥½å¾…æ‰§è¡Œçš„äº‹ä»¶ï¼Œå³å®šæ—¶å™¨è®¡æ•°ç»“æŸï¼Œæˆ–è€…å¼‚æ­¥è¯·æ±‚æˆåŠŸå¹¶æ­£ç¡®è¿”å›æ—¶ï¼Œå°†ä¾æ¬¡è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰å¾… JSå¼•æ“çº¿ç¨‹çš„æ‰§è¡Œã€‚")]),t._v(" "),a("li",[t._v("å½“ç„¶ï¼Œè¯¥çº¿ç¨‹ä¸ GUIæ¸²æŸ“çº¿ç¨‹äº’æ–¥ï¼Œå½“ JSå¼•æ“çº¿ç¨‹æ‰§è¡Œ JavaScriptè„šæœ¬æ—¶é—´è¿‡é•¿ï¼Œå°†å¯¼è‡´é¡µé¢æ¸²æŸ“çš„é˜»å¡ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"å®šæ—¶å™¨è§¦å‘çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®šæ—¶å™¨è§¦å‘çº¿ç¨‹"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#%E5%AE%9A%E6%97%B6%E5%99%A8%E8%A7%A6%E5%8F%91%E7%BA%BF%E7%A8%8B",title:"å®šæ—¶å™¨è§¦å‘çº¿ç¨‹",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("å®šæ—¶å™¨è§¦å‘çº¿ç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("è´Ÿè´£æ‰§è¡Œå¼‚æ­¥å®šæ—¶å™¨ä¸€ç±»çš„å‡½æ•°çš„çº¿ç¨‹ï¼Œå¦‚ï¼š setTimeoutï¼ŒsetIntervalã€‚")]),t._v(" "),a("li",[t._v("ä¸»çº¿ç¨‹ä¾æ¬¡æ‰§è¡Œä»£ç æ—¶ï¼Œé‡åˆ°å®šæ—¶å™¨ï¼Œä¼šå°†å®šæ—¶å™¨äº¤ç»™è¯¥çº¿ç¨‹å¤„ç†ï¼Œå½“è®¡æ•°å®Œæ¯•åï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ä¼šå°†è®¡æ•°å®Œæ¯•åçš„äº‹ä»¶åŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„å°¾éƒ¨ï¼Œç­‰å¾…JSå¼•æ“çº¿ç¨‹æ‰§è¡Œã€‚")])]),t._v(" "),a("h4",{attrs:{id:"äº‹ä»¶è§¦å‘çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº‹ä»¶è§¦å‘çº¿ç¨‹"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#%E4%BA%8B%E4%BB%B6%E8%A7%A6%E5%8F%91%E7%BA%BF%E7%A8%8B",title:"äº‹ä»¶è§¦å‘çº¿ç¨‹",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("äº‹ä»¶è§¦å‘çº¿ç¨‹")]),t._v(" "),a("p",[t._v("ä¸»è¦è´Ÿè´£å°†å‡†å¤‡å¥½çš„äº‹ä»¶äº¤ç»™ JSå¼•æ“çº¿ç¨‹æ‰§è¡Œã€‚"),a("br"),t._v("\næ¯”å¦‚ setTimeoutå®šæ—¶å™¨è®¡æ•°ç»“æŸï¼Œ ajaxç­‰å¼‚æ­¥è¯·æ±‚æˆåŠŸå¹¶è§¦å‘å›è°ƒå‡½æ•°ï¼Œæˆ–è€…ç”¨æˆ·è§¦å‘ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œè¯¥çº¿ç¨‹ä¼šå°†æ•´è£…å¾…å‘çš„äº‹ä»¶ä¾æ¬¡åŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾… JSå¼•æ“çº¿ç¨‹çš„æ‰§è¡Œã€‚")]),t._v(" "),a("h4",{attrs:{id:"å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#%E5%BC%82%E6%AD%A5http%E8%AF%B7%E6%B1%82%E7%BA%BF%E7%A8%8B",title:"å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹")]),t._v(" "),a("ul",[a("li",[t._v("è´Ÿè´£æ‰§è¡Œå¼‚æ­¥è¯·æ±‚ä¸€ç±»çš„å‡½æ•°çš„çº¿ç¨‹ï¼Œå¦‚ï¼š Promiseï¼Œaxiosï¼Œajaxç­‰ã€‚")]),t._v(" "),a("li",[t._v("ä¸»çº¿ç¨‹ä¾æ¬¡æ‰§è¡Œä»£ç æ—¶ï¼Œé‡åˆ°å¼‚æ­¥è¯·æ±‚ï¼Œä¼šå°†å‡½æ•°äº¤ç»™è¯¥çº¿ç¨‹å¤„ç†ï¼Œå½“ç›‘å¬åˆ°çŠ¶æ€ç å˜æ›´ï¼Œå¦‚æœæœ‰å›è°ƒå‡½æ•°ï¼Œäº‹ä»¶è§¦å‘çº¿ç¨‹ä¼šå°†å›è°ƒå‡½æ•°åŠ å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„å°¾éƒ¨ï¼Œç­‰å¾…JSå¼•æ“çº¿ç¨‹æ‰§è¡Œã€‚")])]),t._v(" "),a("h3",{attrs:{id:"javascriptå¼•æ“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascriptå¼•æ“"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#Javascript%E5%BC%95%E6%93%8E",title:"Javascriptå¼•æ“",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("Javascriptå¼•æ“")]),t._v(" "),a("p",[t._v("Google V8å¼•æ“æ˜¯ç›®å‰æœ€æµè¡Œçš„Javascriptå¼•æ“ä¹‹ä¸€ï¼Œå®ƒä½¿ç”¨åœ¨Chromeæµè§ˆå™¨å’ŒNode.jsä¸­ã€‚ä¸‹é¢æ˜¯V8å¼•æ“ä¸€ä¸ªç®€åŒ–çš„è§†å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/emmableu/image/master/202209141930450.png",alt:""}})]),t._v(" "),a("p",[t._v("V8å¼•æ“ä¸»è¦åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Memory Heapâ€Šâ€”â€Šåˆ†é…å†…å­˜å°†ä¼šåœ¨è¿™é‡Œå‘ç”Ÿ")]),t._v(" "),a("li",[t._v("Call Stackâ€Šâ€”â€Šå›è°ƒå‡½æ•°å°†ä¼šåœ¨è¿™é‡Œæ‰§è¡Œ")])]),t._v(" "),a("h3",{attrs:{id:"runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#runtime"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#Runtime",title:"Runtime",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("Runtime")]),t._v(" "),a("p",[t._v("æœ‰ä¸€äº›APIsè¢«å¼€å‘è€…åœ¨æµè§ˆå™¨ä¸­ç»å¸¸ä½¿ç”¨åˆ°ï¼ˆå¦‚ï¼šâ€œsetTimeoutâ€ï¼‰ï¼Œç„¶è€Œè¿™äº›APIsä¹Ÿè®¸å¹¶ä¸æ˜¯ç”±Javascriptå¼•æ“æä¾›çš„ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/emmableu/image/master/202209141934378.png",alt:""}})]),t._v(" "),a("p",[t._v("è¯¸å¦‚DOMã€AJAXã€setTimeoutç­‰å…¶å®ƒæ˜¯ç”±æµè§ˆå™¨æä¾›çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºWEB APIsã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è°ˆè°ˆéå¸¸æµè¡Œçš„"),a("strong",[t._v("callback queue")]),t._v("å’Œ"),a("strong",[t._v("event loop")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"call-stack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#call-stack"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#Call-Stack",title:"Call Stack",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("Call Stack")]),t._v(" "),a("p",[t._v("Javascriptæ˜¯ä¸€ç§å•çº¿ç¨‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™å¯¼è‡´å®ƒåªæœ‰å•ä¸€çš„Call Stackã€‚å› æ­¤åœ¨æŸä¸€æ—¶åˆ»ï¼Œä»–åªèƒ½åšä¸€ä»¶äº‹ã€‚")]),t._v(" "),a("p",[t._v("Call Stackæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä»–ä¸»è¦æ˜¯è®°å½•Javascriptæ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ã€‚å½“Javascriptçš„è™šæ‹Ÿæœºæ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šæŠŠè¿™ä¸ªå‡½æ•°æ¨é€åˆ°Call Stackä¸­ã€‚å½“è¿™ä¸ªå‡½æ•°è¿”å›å€¼æˆ–æ˜¯æ‰§è¡Œå®Œæ¯•åï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šä»Call Stackåˆ é™¤ã€‚")]),t._v(" "),a("p",[t._v("å¦‚ä»¥ä¸‹ç¤ºä¾‹ï¼š")]),t._v(" "),a("p",[t._v("function multiply(x, y) {"),a("br"),t._v("\nreturn x * y;"),a("br"),t._v("\n}"),a("br"),t._v("\nfunction printSquare(x) {"),a("br"),t._v("\nvar s = multiply(x, x);"),a("br"),t._v("\nconsole.log(s);"),a("br"),t._v("\n}"),a("br"),t._v("\nprintSquare(5);")]),t._v(" "),a("p",[t._v("å½“Javascriptå¼•æ“åœ¨æ‰§è¡Œè¿™æ®µä»£ç çš„å‰ä¸€åˆ»ï¼ŒCall Stackæ˜¯ç©ºçš„ã€‚ç„¶åCall Stackå°†ä¼šæŒ‰ç…§ä¸‹å›¾å‘ç”Ÿå˜åŒ–ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop3.png",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("p",[a("strong",[t._v("çœ‹ä¸‹é¢çš„ä»£ç ")]),t._v("ï¼Œè¿™æ®µä»£ç æ¨¡æ‹Ÿåœ¨Call Stackä¸­å‡ºç°å¼‚å¸¸åçš„å…¨è¿‡ç¨‹ã€‚")]),t._v(" "),a("p",[t._v("function foo() {"),a("br"),t._v("\nthrow new Error('SessionStack will help you resolve crashes ğŸ˜ƒ');"),a("br"),t._v("\n}"),a("br"),t._v("\nfunction bar() {"),a("br"),t._v("\nfoo();"),a("br"),t._v("\n}"),a("br"),t._v("\nfunction start() {"),a("br"),t._v("\nbar();"),a("br"),t._v("\n}"),a("br"),t._v("\nstart();")]),t._v(" "),a("p",[t._v("å‡è®¾è¿™æ®µä»£ç åœ¨foo.jsä¸­ï¼Œfoo.jsåœ¨chromeæµè§ˆå™¨æ‰§è¡Œåå°†ä¼šå‡ºç°ä¸‹é¢çš„å †æ ˆè¿½è¸ªè®°å½•ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop6.png",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("p",[t._v("**å †æ ˆæº¢å‡ºï¼š**Javascriptå¼•æ“äº§ç”Ÿçš„å †æ ˆè¶…è¿‡Javascriptè¿è¡Œç¯å¢ƒæ‰€æä¾›çš„æœ€å¤§æ•°é‡ã€‚è¿™ç§å¼‚å¸¸åœ¨ä»£ç ä¸­å­˜åœ¨é€’å½’ä½†æ²¡æœ‰è®¾ç½®é€’å½’ç»“æŸçš„æ¡ä»¶æ—¶ï¼Œå°¤å…¶å®¹æ˜“äº§ç”Ÿã€‚")]),t._v(" "),a("p",[t._v("ä¸‹é¢å°±æ˜¯è¿™ç§ç±»å‹çš„ä»£ç ï¼š")]),t._v(" "),a("p",[t._v("function foo() {"),a("br"),t._v("\nfoo();"),a("br"),t._v("\n}"),a("br"),t._v("\nfoo();")]),t._v(" "),a("p",[t._v("Javascriptå¼•æ“æ‰§è¡Œè¿™æ®µä»£ç æ˜¯ä»fooå‡½æ•°å¼€å§‹ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­ä¸æ–­è°ƒç”¨è‡ªå·±å¹¶æ²¡æœ‰è®¾ç½®ç»ˆæ­¢æ¡ä»¶ï¼Œä»è€Œäº§ç”Ÿæ— é™å¾ªç¯ã€‚æ¯ä¸€æ¬¡æ‰§è¡Œfooï¼ŒCall Stackéƒ½ä¼šæ·»åŠ ä¸€æ¬¡å‡½æ•°ã€‚è¿™å°±åƒä¸‹é¢æ˜¾ç¤ºçš„é‚£æ ·ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop7.png",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("p",[t._v("å½“Javascriptå¼•æ“ä¸­çš„Call Stackçš„é•¿åº¦ï¼Œè¶…è¿‡Javascriptæ‰§è¡Œç¯å¢ƒä¸­Call Stackçš„å®é™…é•¿åº¦æ—¶ï¼ŒJavascriptæ‰§è¡Œç¯å¢ƒï¼ˆChromeæµè§ˆå™¨æˆ–Nodeï¼‰å°±ä¼šæŠ›å‡ºä¸‹é¢çš„å¼‚å¸¸ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop8.png",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("p",[t._v("åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œè¦è€ƒè™‘è¯¸å¦‚æ­»é”ç­‰å¤æ‚æ‰§è¡Œè¿‡ç¨‹ã€‚å•çº¿ç¨‹çš„ç¯å¢ƒä¸­ç›¸æ¯”è¾ƒè¦ç®€å•å¾ˆå¤šï¼Œä½†æ˜¯å•çº¿ç¨‹åŒæ ·æœ‰å®ƒçš„é™åˆ¶ã€‚Javascriptå•çº¿ç¨‹çš„æ‰§è¡Œç¯å¢ƒä¸­ï¼Œå¦‚ä½•åº”å¯¹å¤æ‚çš„è°ƒç”¨ï¼Œå•çº¿ç¨‹ä¼šä¸ä¼šé™åˆ¶ç¨‹åºçš„æ€§èƒ½ã€‚")]),t._v(" "),a("h3",{attrs:{id:"å¹¶å‘-concurrence"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶å‘-concurrence"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#%E5%B9%B6%E5%8F%91%EF%BC%88concurrence%EF%BC%89",title:"å¹¶å‘ï¼ˆconcurrenceï¼‰",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("å¹¶å‘ï¼ˆconcurrenceï¼‰")]),t._v(" "),a("p",[t._v("å½“åœ¨ä½ çš„Call Stackä¸­å­˜åœ¨ä¸€ä¸ªéœ€è¦å ç”¨ç›¸å½“å¤§æ‰§è¡Œæ—¶é—´çš„å‡½æ•°æ—¶ï¼Œå°†ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ä¾‹å¦‚åœ¨æµè§ˆå™¨ä¸­é€šè¿‡Javascriptä¼ è¾“ä¸€ä¸ªæ¯”è¾ƒå¤§çš„imageæ–‡ä»¶æ—¶ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ")]),t._v(" "),a("p",[t._v("ä½ ä¹Ÿè®¸ä¼šé—®è¿™æ€ä¹ˆä¹Ÿç®—æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚å½“Call Stackæœ‰å¾…æ‰§è¡Œçš„å‡½æ•°æ—¶ï¼Œæµè§ˆå™¨ä¼šé˜»å¡åœ¨è¿™é‡Œï¼Œå¹¶ä¸åšå…¶å®ƒçš„ä»»åŠ¡ã€‚è¿™ä¹Ÿæ„å‘³ç€ä½ ä¸å¯èƒ½åœ¨appä¸­å‘ˆç°æµç•…å¤æ‚çš„UIã€‚")]),t._v(" "),a("p",[t._v("é—®é¢˜ä¸ä»…ä»…å¦‚æ­¤ï¼Œä¸€æ—¦Call Stackä¸­ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡å¾ˆå¤šæ—¶ï¼Œæµè§ˆå™¨è¦åœ¨å¾ˆé•¿çš„æ—¶é—´å†…éƒ½ä¸èƒ½å›åº”å…¶å®ƒäº‹ä»¶ã€‚è®¸å¤šæµè§ˆå™¨è¿™æ—¶éƒ½ä¼šæŠ›å‡ºä¸€ä¸ªæç¤ºä¿¡æ¯ï¼Œå¾æ±‚ä½ æ˜¯å¦è¦å…³é—­é¡µé¢ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop5.jpeg",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("p",[t._v("è¿™æ ·å¿…ç„¶å°†å¯¼è‡´éå¸¸å·®çš„ç”¨æˆ·ä½“éªŒã€‚")]),t._v(" "),a("h3",{attrs:{id:"event-loop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#event-loop"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#Event-loop",title:"Event loop",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("Event loop")]),t._v(" "),a("p",[t._v("æµè§ˆå™¨ç«¯äº‹ä»¶å¾ªç¯ä¸­çš„å¼‚æ­¥é˜Ÿåˆ—æœ‰ä¸¤ç§ï¼šmacroï¼ˆå®ä»»åŠ¡ï¼‰é˜Ÿåˆ—å’Œ microï¼ˆå¾®ä»»åŠ¡ï¼‰é˜Ÿåˆ—ã€‚"),a("strong",[t._v("å®ä»»åŠ¡é˜Ÿåˆ—å¯ä»¥æœ‰å¤šä¸ªï¼Œå¾®ä»»åŠ¡é˜Ÿåˆ—åªæœ‰ä¸€ä¸ª")]),t._v("ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å¸¸è§çš„ macro-task æ¯”å¦‚ï¼šsetTimeoutã€setIntervalã€scriptï¼ˆæ•´ä½“ä»£ç ï¼‰ã€ I/O æ“ä½œã€UI æ¸²æŸ“ç­‰")]),t._v(" "),a("li",[t._v("å¸¸è§çš„ micro-task æ¯”å¦‚: new Promise().then(å›è°ƒ)ã€MutationObserver(html5æ–°ç‰¹æ€§) ç­‰ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"è¿‡ç¨‹è§£æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¿‡ç¨‹è§£æ"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#%E8%BF%87%E7%A8%8B%E8%A7%A3%E6%9E%90",title:"è¿‡ç¨‹è§£æ",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("è¿‡ç¨‹è§£æ")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªå®Œæ•´çš„ Event Loop è¿‡ç¨‹ï¼Œå¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹é˜¶æ®µï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop9.png",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("p",[t._v("å¯¼å›¾è¦è¡¨è¾¾çš„å†…å®¹ç”¨æ–‡å­—æ¥è¡¨è¿°çš„è¯ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œâ€åœºæ‰€â€ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°ã€‚")]),t._v(" "),a("li",[t._v("å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queueã€‚")]),t._v(" "),a("li",[t._v("ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚")]),t._v(" "),a("li",[t._v("ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯)ã€‚")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¸ç¦è¦é—®äº†ï¼Œé‚£æ€ä¹ˆçŸ¥é“ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆä¸ºç©ºå•Šï¼Ÿjså¼•æ“å­˜åœ¨monitoring processè¿›ç¨‹ï¼Œä¼šæŒç»­ä¸æ–­çš„æ£€æŸ¥ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆæ˜¯å¦ä¸ºç©ºï¼Œä¸€æ—¦ä¸ºç©ºï¼Œå°±ä¼šå»Event Queueé‚£é‡Œæ£€æŸ¥æ˜¯å¦æœ‰ç­‰å¾…è¢«è°ƒç”¨çš„å‡½æ•°ã€‚")]),t._v(" "),a("h4",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://gitlib.com/page/js-eventloop.html#%E6%80%BB%E7%BB%93",title:"æ€»ç»“",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1),t._v("æ€»ç»“")]),t._v(" "),a("p",[t._v("äº‹ä»¶çš„æ‰§è¡Œé¡ºåºï¼Œ"),a("code",[t._v("æ˜¯å…ˆæ‰§è¡Œå®ä»»åŠ¡ï¼Œç„¶åæ‰§è¡Œå¾®ä»»åŠ¡")]),t._v("ï¼Œè¿™ä¸ªæ˜¯åŸºç¡€ï¼Œä»»åŠ¡å¯ä»¥æœ‰åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°ï¼Œå¼‚æ­¥äº‹ä»¶å®Œæˆåï¼Œä¼šå°†å›è°ƒå‡½æ•°æ”¾å…¥Event Queueä¸­("),a("code",[t._v("å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡æ˜¯ä¸åŒçš„Event Queue")]),t._v(")ï¼ŒåŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œä¼šä»Event Queueä¸­è¯»å–äº‹ä»¶æ”¾å…¥ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œå›è°ƒå‡½æ•°ä¸­å¯èƒ½è¿˜ä¼šåŒ…å«ä¸åŒçš„ä»»åŠ¡ï¼Œå› æ­¤ä¼šå¾ªç¯æ‰§è¡Œä¸Šè¿°æ“ä½œã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.gitlib.com/blog/2019/11/12/js-eventloop10.png",alt:"Javascriptå¼‚æ­¥"}})]),t._v(" "),a("hr")])}),[],!1,null,null,null);a.default=v.exports}}]);